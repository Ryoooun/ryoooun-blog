---
import { literal } from "astro/zod";
import { getBlogs } from "../library/microcms";

const { contents: posts } = await getBlogs({
  fields: ["id", "title", "publishedAt", "eyecatch"],
});
---

<div>
  <ul class="mb-16 flex flex-wrap list-none m-0 p-0">
    {
      posts.map((post) => (
        <li class="flex p-4 sm:w-1/2">
          <div class="bg-white rounded shadow-2xl flex flex-col overflow-hidden">
            <img
              class="h-auto max-w-full align-middle"
              src={post.eyecatch?.url ? post.eyecatch.url : ""}
              alt={post.title}
            />
            <div class="p-4 bg-gradient-to-bl from-indigo-500 via-purple-500 to-pink-500">
              <h3 class="text-white text-lg font-bold tracking-wider">
                {post.title}
              </h3>
              <a
                class="text-white p-3 text-lg uppercase rounded-md font-normal block w-full cursor-pointer border boder-white border-opacity-5  hover:opacity-30"
                href={`/blog/${post.id}`}>
                Read more
              </a>
            </div>
          </div>
        </li>
      ))
    }
  </ul>
</div>
